"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(d,c){for(var b=0,a;b<c.length;b++)a=c[b],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}var Accordion=function(){function a(){var f=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j,t,g,s,i,e,k,l,m,n,o,p,q,c,h,u,r;if(_classCallCheck(this,a),!d)throw new Error("Please provide a container element.");j=b.beforeOpen,t=j===void 0?function(){}:j,g=b.beforeClose,s=g===void 0?function(){}:g,i=b.itemClass,e=i===void 0?"accordion__item":i,k=b.headingClass,l=k===void 0?"accordion__item-heading":k,m=b.contentClass,n=m===void 0?"accordion__item-content":m,o=b.closedHeight,p=o===void 0?0:o,q=b.containerIsContent,c=q!==void 0&&q,h=b.containerIsItem,u=h!==void 0&&h,d=c?document:d,this.beforeOpen=t,this.beforeClose=s,this.itemClass=e,this.headingClass=l,this.contentClass=n,this.closedHeight=p,this.containerIsContent=c,this.accordionItems=Array.from(d.querySelectorAll(".".concat(e))),u&&(this.accordionItems=this.accordionItems.concat(d)),r=c?e:n,d.addEventListener("transitionend",function(a){if(a.target.classList.contains(r)&&a.target.style.height==="".concat(a.target.scrollHeight,"px"))a.target.style.height="auto";else if(a.target.classList.contains(r)&&a.target.offsetHeight<a.target.scrollHeight){var b=c?a.target:getParentByClass(a.target,e);b.classList.remove("-open")}}),forEach(this.accordionItems,function(a){var b=c?a:a.querySelector(".".concat(l));c&&a.classList.add("accordion__item-content"),b.addEventListener("click",function(){a.classList.contains("-open")?f.closeItem(a,p):f.openItem(a)})})}return _createClass(a,[{key:"closeAll",value:function(){var a=this;forEach(this.accordionItems,function(b){a.closeItem(b),b.classList.remove("-open")})}},{key:"openItem",value:function(b){this.beforeOpen();var a=this.containerIsContent?b:b.querySelector(".".concat(this.contentClass));b.classList.add("-open"),a.style.setProperty("height",a.scrollHeight+"px"),a.style.setProperty("min-height",a.scrollHeight+"px")}},{key:"closeItem",value:function(a){this.beforeClose();var b=this.containerIsContent?a:a.querySelector(".".concat(this.contentClass));b.style.setProperty("height",this.closedHeight+"px"),b.style.setProperty("min-height",this.closedHeight+"px")}}]),a}();function getParentByClass(b,c){for(var a=b.parentElement;!a.className.split(" ").includes(c)&&a!=null;)a=a.parentElement;return a}